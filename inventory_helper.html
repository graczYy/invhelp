<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Inventory Helper by hostad</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    *{box-sizing:border-box;}
    html{font-size:16px;}
    body{
      font-family:'Segoe UI',sans-serif;
      background:#0f0f0f;color:#f0f0f0;
      margin:0;padding:2.5rem;
      display:flex;gap:2.5rem;flex-wrap:wrap;
    }
    .main{flex:1;min-width:320px;}
    h1{font-size:1.75rem;margin:0 0 .5rem;color:#4CAF50;}
    h3{margin:1.75rem 0 .5rem;color:#ccc;font-size:1.1rem;}

    input,button{
      background:#1e1e1e;color:#fff;border:1px solid #333;
      padding:.625rem .75rem;border-radius:6px;font-size:1rem;
      margin:.3rem .5rem .3rem 0;
    }
    input:focus{border-color:#4CAF50;outline:0;}
    button{background:#4CAF50;border:none;cursor:pointer;transition:background .3s;}
    button:hover{background:#45a049;}

    .id-list span{
      background:#222;padding:.3rem .5rem;border-radius:4px;
      margin:.2rem;display:inline-block;font-size:.9rem;cursor:pointer;
      transition:background .2s;
    }
    .id-list span:hover{background:#3a0000;}

    .commands{margin-top:1rem;}
    .command-line{
      background:#1c1c1c;padding:.6rem .75rem;margin:.3rem 0;
      border:1px solid #2e2e2e;border-radius:5px;cursor:pointer;
      transition:background .2s,opacity .5s;
    }
    .command-line:hover{background:#333;}
    .fade-out{opacity:0;transition:opacity .4s;}

    .error{
      background:rgba(255,76,76,.1);color:#ff4c4c;
      border-left:4px solid #ff4c4c;border-radius:6px;
      padding:.75rem 1rem;margin:1rem 0;font-size:.95rem;
      animation:fadeIn .3s ease;
    }
    @keyframes fadeIn{from{opacity:0;transform:translateY(-5px);}to{opacity:1;transform:translateY(0);}}

    .done-text{
      color:#4CAF50;font-size:1rem;margin-top:1rem;
      display:flex;align-items:center;gap:.4rem;animation:fadeIn .3s ease;
    }

    footer{margin-top:2.5rem;text-align:center;color:#777;font-size:.875rem;}

    .sidebar{width:220px;min-width:200px;display:flex;flex-direction:column;gap:.75rem;}
    .link-button{
      background:#222;color:#fff;text-decoration:none;text-align:center;
      border:1px solid #444;padding:.75rem;border-radius:6px;font-weight:bold;
      transition:background .3s;
    }
    .link-button:hover{background:#333;}

    #resetBtn{display:none;margin-top:1rem;}

    @media(max-width:900px){
      body{flex-direction:column;padding:1.5rem;}
      .sidebar{flex-direction:row;flex-wrap:wrap;justify-content:center;width:100%;}
    }
  </style>
</head>
<body>

  <div class="main">
    <h1>Inventory Helper</h1>

    <h3>Добавь ID игрока:</h3>
    <input type="text" id="playerIdInput" placeholder="ID игрока">
    <button onclick="addPlayer()">Добавить</button>
    <button onclick="clearPlayers()">Очистить</button>

    <div id="errorBox"></div>
    <div class="id-list" id="idList"></div>

    <h3>Скины:</h3>
    <input type="text" id="skin1" placeholder="Skin 1 (обязателен)">
    <input type="text" id="skin2" placeholder="Skin 2 (опционально)">

    <h3>Оружие:</h3>
    <input type="text" id="weaponId" placeholder="ID оружия">
    <input type="number" id="ammo" placeholder="Кол-во патронов (макс 2000)" min="0" max="2000">

    <br><br>
    <button onclick="generateCommands()">Готово</button>
    <button id="resetBtn" onclick="resetCommands()">Сбросить всё</button>

    <div class="commands" id="commandOutput"></div>

    <footer>helper создан by <strong>hostad</strong></footer>
  </div>

  <div class="sidebar">
    <a href="https://docs.google.com/document/d/1W-apYrd3CoxvvTFG0JtjxHzokvz7G-yiT7Ugm90CSYU/edit?tab=t.0" target="_blank" class="link-button">Скины</a>
    <a href="https://docs.google.com/document/d/1NtxXMPbnQFeX6obx3SW9o32R3F-qA_vnTQ5D-twF3Rc/edit?tab=t.0" target="_blank" class="link-button">Оружие</a>
    <a href="https://docs.google.com/document/d/1b0grfk0dt3p4EFP_C2xWcX5mUwCMJpuH1bCrHeEk1JU/edit?tab=t.0" target="_blank" class="link-button">Авто</a>
  </div>

  <script>
    const players=[],idList=document.getElementById("idList"),
          commandOutput=document.getElementById("commandOutput"),
          errorBox=document.getElementById("errorBox"),
          resetBtn=document.getElementById("resetBtn");

    function showError(msg){
      errorBox.innerHTML=`<div class="error">${msg}</div>`;
      setTimeout(()=>errorBox.innerHTML="",3000);
    }

    function addPlayer(){
      const input=document.getElementById("playerIdInput"),id=input.value.trim();
      if(!/^\d+$/.test(id)){showError("ID игрока должен содержать только цифры.");input.value="";return;}
      if(players.includes(id)){showError("Такой ID уже добавлен.");input.value="";return;}
      players.push(id);
      const span=document.createElement("span");
      span.textContent=id;span.onclick=()=>removePlayer(id,span);idList.appendChild(span);
      input.value="";
    }

    function removePlayer(id,el){
      const i=players.indexOf(id);if(i!==-1){players.splice(i,1);el.remove();}
    }

    function clearPlayers(){
      players.length=0;idList.innerHTML="";commandOutput.innerHTML="";resetBtn.style.display="none";
    }

    function resetCommands(){
      commandOutput.innerHTML="";resetBtn.style.display="none";
    }

    function generateCommands(){
      commandOutput.innerHTML="";resetBtn.style.display="none";
      const skin1=document.getElementById("skin1").value.trim(),
            skin2=document.getElementById("skin2").value.trim(),
            weaponId=document.getElementById("weaponId").value.trim();
      let ammo=document.getElementById("ammo").value.trim();

      if(skin1&&!/^\d+$/.test(skin1)){showError("Skin 1 должен содержать только цифры.");return;}
      if(skin2&&!/^\d+$/.test(skin2)){showError("Skin 2 должен содержать только цифры.");return;}

      if(ammo==="")ammo=0;ammo=parseInt(ammo);
      if(ammo>2000){showError("Максимум патронов — 2000.");return;}

      if(skin1){
        const half=Math.floor(players.length/2);
        players.forEach((id,idx)=>addCommand(`/tempskin ${id} ${(skin2&&idx>=half)?skin2:skin1}`));
      }
      if(weaponId&&ammo>0){players.forEach(id=>addCommand(`/weapongive ${id} ${weaponId} ${ammo}`));}

      if(commandOutput.children.length)resetBtn.style.display="inline-block";
    }

    function addCommand(text){
      const div=document.createElement("div");
      div.textContent=text;div.className="command-line";
      div.onclick=()=>{
        navigator.clipboard.writeText(text);
        div.classList.add("fade-out");
        setTimeout(()=>{div.remove();checkDone();},400);
      };
      commandOutput.appendChild(div);
    }

    function checkDone(){
      if(!commandOutput.children.length){
        commandOutput.innerHTML=`<div class="done-text">✅ Все выдано</div>`;
        resetBtn.style.display="none";
      }
    }
  </script>
</body>
</html>
